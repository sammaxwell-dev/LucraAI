"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./hooks/useChatSessions.ts":
/*!**********************************!*\
  !*** ./hooks/useChatSessions.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useChatSessions: () => (/* binding */ useChatSessions)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ useChatSessions auto */ \nconst SESSIONS_STORAGE_KEY = 'lucra-ai-sessions';\nconst ACTIVE_SESSION_KEY = 'lucra-ai-active-session';\nfunction useChatSessions() {\n    const [sessions, setSessions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [activeSessionId, setActiveSessionId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    // Загрузка сессий из localStorage\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useChatSessions.useEffect\": ()=>{\n            try {\n                const storedSessions = window.localStorage.getItem(SESSIONS_STORAGE_KEY);\n                const storedActiveId = window.localStorage.getItem(ACTIVE_SESSION_KEY);\n                if (storedSessions) {\n                    setSessions(JSON.parse(storedSessions));\n                }\n                if (storedActiveId) {\n                    setActiveSessionId(storedActiveId);\n                }\n            } catch (error) {\n                console.error('Error loading sessions:', error);\n            }\n            setIsLoading(false);\n        }\n    }[\"useChatSessions.useEffect\"], []);\n    // Сохранение в localStorage при изменении\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useChatSessions.useEffect\": ()=>{\n            if (!isLoading) {\n                try {\n                    window.localStorage.setItem(SESSIONS_STORAGE_KEY, JSON.stringify(sessions));\n                } catch (error) {\n                    console.error('Error saving sessions:', error);\n                }\n            }\n        }\n    }[\"useChatSessions.useEffect\"], [\n        sessions,\n        isLoading\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useChatSessions.useEffect\": ()=>{\n            if (!isLoading && activeSessionId) {\n                try {\n                    window.localStorage.setItem(ACTIVE_SESSION_KEY, activeSessionId);\n                } catch (error) {\n                    console.error('Error saving active session:', error);\n                }\n            }\n        }\n    }[\"useChatSessions.useEffect\"], [\n        activeSessionId,\n        isLoading\n    ]);\n    // Создание новой сессии\n    const createSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useChatSessions.useCallback[createSession]\": ()=>{\n            const newSession = {\n                id: crypto.randomUUID(),\n                title: 'New Chat',\n                messages: [],\n                createdAt: Date.now(),\n                updatedAt: Date.now()\n            };\n            setSessions({\n                \"useChatSessions.useCallback[createSession]\": (prev)=>[\n                        newSession,\n                        ...prev\n                    ]\n            }[\"useChatSessions.useCallback[createSession]\"]);\n            setActiveSessionId(newSession.id);\n            return newSession;\n        }\n    }[\"useChatSessions.useCallback[createSession]\"], []);\n    // Обновление сессии (добавление сообщений)\n    const updateSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useChatSessions.useCallback[updateSession]\": (sessionId, messages)=>{\n            setSessions({\n                \"useChatSessions.useCallback[updateSession]\": (prev)=>prev.map({\n                        \"useChatSessions.useCallback[updateSession]\": (session)=>{\n                            if (session.id === sessionId) {\n                                // Генерируем название из первого сообщения пользователя\n                                let title = session.title;\n                                if (title === 'New Chat' && messages.length > 0) {\n                                    const firstUserMessage = messages.find({\n                                        \"useChatSessions.useCallback[updateSession].firstUserMessage\": (m)=>m.role === 'user'\n                                    }[\"useChatSessions.useCallback[updateSession].firstUserMessage\"]);\n                                    if (firstUserMessage) {\n                                        title = firstUserMessage.text.slice(0, 50);\n                                        if (firstUserMessage.text.length > 50) {\n                                            title += '...';\n                                        }\n                                    }\n                                }\n                                return {\n                                    ...session,\n                                    title,\n                                    messages,\n                                    updatedAt: Date.now()\n                                };\n                            }\n                            return session;\n                        }\n                    }[\"useChatSessions.useCallback[updateSession]\"])\n            }[\"useChatSessions.useCallback[updateSession]\"]);\n        }\n    }[\"useChatSessions.useCallback[updateSession]\"], []);\n    // Удаление сессии\n    const deleteSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useChatSessions.useCallback[deleteSession]\": (sessionId)=>{\n            setSessions({\n                \"useChatSessions.useCallback[deleteSession]\": (prev)=>{\n                    const filtered = prev.filter({\n                        \"useChatSessions.useCallback[deleteSession].filtered\": (s)=>s.id !== sessionId\n                    }[\"useChatSessions.useCallback[deleteSession].filtered\"]);\n                    // Если удаляем активную сессию, переключаемся на первую из оставшихся\n                    if (sessionId === activeSessionId) {\n                        var _filtered_;\n                        const nextActive = ((_filtered_ = filtered[0]) === null || _filtered_ === void 0 ? void 0 : _filtered_.id) || null;\n                        setActiveSessionId(nextActive);\n                        if (nextActive) {\n                            window.localStorage.setItem(ACTIVE_SESSION_KEY, nextActive);\n                        } else {\n                            window.localStorage.removeItem(ACTIVE_SESSION_KEY);\n                        }\n                    }\n                    return filtered;\n                }\n            }[\"useChatSessions.useCallback[deleteSession]\"]);\n        }\n    }[\"useChatSessions.useCallback[deleteSession]\"], [\n        activeSessionId\n    ]);\n    // Установка активной сессии\n    const setActiveSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useChatSessions.useCallback[setActiveSession]\": (sessionId)=>{\n            setActiveSessionId(sessionId);\n            if (sessionId) {\n                window.localStorage.setItem(ACTIVE_SESSION_KEY, sessionId);\n            } else {\n                window.localStorage.removeItem(ACTIVE_SESSION_KEY);\n            }\n        }\n    }[\"useChatSessions.useCallback[setActiveSession]\"], []);\n    // Получение активной сессии\n    const activeSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useChatSessions.useMemo[activeSession]\": ()=>{\n            return sessions.find({\n                \"useChatSessions.useMemo[activeSession]\": (s)=>s.id === activeSessionId\n            }[\"useChatSessions.useMemo[activeSession]\"]) || null;\n        }\n    }[\"useChatSessions.useMemo[activeSession]\"], [\n        sessions,\n        activeSessionId\n    ]);\n    // Группировка сессий по дате\n    const groupedSessions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useChatSessions.useMemo[groupedSessions]\": ()=>{\n            const now = new Date();\n            const today = new Date(now.getFullYear(), now.getMonth(), now.getDate()).getTime();\n            const yesterday = today - 24 * 60 * 60 * 1000;\n            const weekAgo = today - 7 * 24 * 60 * 60 * 1000;\n            const groups = {\n                today: [],\n                yesterday: [],\n                thisWeek: [],\n                older: []\n            };\n            // Сортируем по дате обновления (новые сверху)\n            const sorted = [\n                ...sessions\n            ].sort({\n                \"useChatSessions.useMemo[groupedSessions].sorted\": (a, b)=>b.updatedAt - a.updatedAt\n            }[\"useChatSessions.useMemo[groupedSessions].sorted\"]);\n            sorted.forEach({\n                \"useChatSessions.useMemo[groupedSessions]\": (session)=>{\n                    const sessionDate = session.updatedAt;\n                    if (sessionDate >= today) {\n                        groups.today.push(session);\n                    } else if (sessionDate >= yesterday) {\n                        groups.yesterday.push(session);\n                    } else if (sessionDate >= weekAgo) {\n                        groups.thisWeek.push(session);\n                    } else {\n                        groups.older.push(session);\n                    }\n                }\n            }[\"useChatSessions.useMemo[groupedSessions]\"]);\n            return groups;\n        }\n    }[\"useChatSessions.useMemo[groupedSessions]\"], [\n        sessions\n    ]);\n    return {\n        sessions,\n        activeSession,\n        activeSessionId,\n        isLoading,\n        createSession,\n        updateSession,\n        deleteSession,\n        setActiveSession,\n        groupedSessions,\n        generateTitle\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZUNoYXRTZXNzaW9ucy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7cUVBRWtFO0FBR2xFLE1BQU1JLHVCQUF1QjtBQUM3QixNQUFNQyxxQkFBcUI7QUFVcEIsU0FBU0M7SUFDWixNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR1IsK0NBQVFBLENBQWdCLEVBQUU7SUFDMUQsTUFBTSxDQUFDUyxpQkFBaUJDLG1CQUFtQixHQUFHViwrQ0FBUUEsQ0FBZ0I7SUFDdEUsTUFBTSxDQUFDVyxXQUFXQyxhQUFhLEdBQUdaLCtDQUFRQSxDQUFDO0lBRTNDLGtDQUFrQztJQUNsQ0MsZ0RBQVNBO3FDQUFDO1lBQ04sSUFBSTtnQkFDQSxNQUFNWSxpQkFBaUJDLE9BQU9DLFlBQVksQ0FBQ0MsT0FBTyxDQUFDWjtnQkFDbkQsTUFBTWEsaUJBQWlCSCxPQUFPQyxZQUFZLENBQUNDLE9BQU8sQ0FBQ1g7Z0JBRW5ELElBQUlRLGdCQUFnQjtvQkFDaEJMLFlBQVlVLEtBQUtDLEtBQUssQ0FBQ047Z0JBQzNCO2dCQUNBLElBQUlJLGdCQUFnQjtvQkFDaEJQLG1CQUFtQk87Z0JBQ3ZCO1lBQ0osRUFBRSxPQUFPRyxPQUFPO2dCQUNaQyxRQUFRRCxLQUFLLENBQUMsMkJBQTJCQTtZQUM3QztZQUNBUixhQUFhO1FBQ2pCO29DQUFHLEVBQUU7SUFFTCwwQ0FBMEM7SUFDMUNYLGdEQUFTQTtxQ0FBQztZQUNOLElBQUksQ0FBQ1UsV0FBVztnQkFDWixJQUFJO29CQUNBRyxPQUFPQyxZQUFZLENBQUNPLE9BQU8sQ0FBQ2xCLHNCQUFzQmMsS0FBS0ssU0FBUyxDQUFDaEI7Z0JBQ3JFLEVBQUUsT0FBT2EsT0FBTztvQkFDWkMsUUFBUUQsS0FBSyxDQUFDLDBCQUEwQkE7Z0JBQzVDO1lBQ0o7UUFDSjtvQ0FBRztRQUFDYjtRQUFVSTtLQUFVO0lBRXhCVixnREFBU0E7cUNBQUM7WUFDTixJQUFJLENBQUNVLGFBQWFGLGlCQUFpQjtnQkFDL0IsSUFBSTtv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aGl0ZXdvbGYvV29yay9NVlAvTHVjcmFBSS9ob29rcy91c2VDaGF0U2Vzc2lvbnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENoYXRTZXNzaW9uLCBDaGF0TWVzc2FnZSB9IGZyb20gJ0AvdHlwZXMnO1xuXG5jb25zdCBTRVNTSU9OU19TVE9SQUdFX0tFWSA9ICdsdWNyYS1haS1zZXNzaW9ucyc7XG5jb25zdCBBQ1RJVkVfU0VTU0lPTl9LRVkgPSAnbHVjcmEtYWktYWN0aXZlLXNlc3Npb24nO1xuXG4vLyDQk9GA0YPQv9C/0Ysg0L/QviDQtNCw0YLQtVxuZXhwb3J0IGludGVyZmFjZSBHcm91cGVkU2Vzc2lvbnMge1xuICAgIHRvZGF5OiBDaGF0U2Vzc2lvbltdO1xuICAgIHllc3RlcmRheTogQ2hhdFNlc3Npb25bXTtcbiAgICB0aGlzV2VlazogQ2hhdFNlc3Npb25bXTtcbiAgICBvbGRlcjogQ2hhdFNlc3Npb25bXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNoYXRTZXNzaW9ucygpIHtcbiAgICBjb25zdCBbc2Vzc2lvbnMsIHNldFNlc3Npb25zXSA9IHVzZVN0YXRlPENoYXRTZXNzaW9uW10+KFtdKTtcbiAgICBjb25zdCBbYWN0aXZlU2Vzc2lvbklkLCBzZXRBY3RpdmVTZXNzaW9uSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuXG4gICAgLy8g0JfQsNCz0YDRg9C30LrQsCDRgdC10YHRgdC40Lkg0LjQtyBsb2NhbFN0b3JhZ2VcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RvcmVkU2Vzc2lvbnMgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oU0VTU0lPTlNfU1RPUkFHRV9LRVkpO1xuICAgICAgICAgICAgY29uc3Qgc3RvcmVkQWN0aXZlSWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oQUNUSVZFX1NFU1NJT05fS0VZKTtcblxuICAgICAgICAgICAgaWYgKHN0b3JlZFNlc3Npb25zKSB7XG4gICAgICAgICAgICAgICAgc2V0U2Vzc2lvbnMoSlNPTi5wYXJzZShzdG9yZWRTZXNzaW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0b3JlZEFjdGl2ZUlkKSB7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlU2Vzc2lvbklkKHN0b3JlZEFjdGl2ZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgc2Vzc2lvbnM6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfSwgW10pO1xuXG4gICAgLy8g0KHQvtGF0YDQsNC90LXQvdC40LUg0LIgbG9jYWxTdG9yYWdlINC/0YDQuCDQuNC30LzQtdC90LXQvdC40LhcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWlzTG9hZGluZykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oU0VTU0lPTlNfU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KHNlc3Npb25zKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBzZXNzaW9uczonLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbc2Vzc2lvbnMsIGlzTG9hZGluZ10pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFpc0xvYWRpbmcgJiYgYWN0aXZlU2Vzc2lvbklkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShBQ1RJVkVfU0VTU0lPTl9LRVksIGFjdGl2ZVNlc3Npb25JZCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBhY3RpdmUgc2Vzc2lvbjonLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbYWN0aXZlU2Vzc2lvbklkLCBpc0xvYWRpbmddKTtcblxuICAgIC8vINCh0L7Qt9C00LDQvdC40LUg0L3QvtCy0L7QuSDRgdC10YHRgdC40LhcbiAgICBjb25zdCBjcmVhdGVTZXNzaW9uID0gdXNlQ2FsbGJhY2soKCk6IENoYXRTZXNzaW9uID0+IHtcbiAgICAgICAgY29uc3QgbmV3U2Vzc2lvbjogQ2hhdFNlc3Npb24gPSB7XG4gICAgICAgICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgICAgIHRpdGxlOiAnTmV3IENoYXQnLFxuICAgICAgICAgICAgbWVzc2FnZXM6IFtdLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICB9O1xuXG4gICAgICAgIHNldFNlc3Npb25zKHByZXYgPT4gW25ld1Nlc3Npb24sIC4uLnByZXZdKTtcbiAgICAgICAgc2V0QWN0aXZlU2Vzc2lvbklkKG5ld1Nlc3Npb24uaWQpO1xuXG4gICAgICAgIHJldHVybiBuZXdTZXNzaW9uO1xuICAgIH0sIFtdKTtcblxuICAgIC8vINCe0LHQvdC+0LLQu9C10L3QuNC1INGB0LXRgdGB0LjQuCAo0LTQvtCx0LDQstC70LXQvdC40LUg0YHQvtC+0LHRidC10L3QuNC5KVxuICAgIGNvbnN0IHVwZGF0ZVNlc3Npb24gPSB1c2VDYWxsYmFjaygoc2Vzc2lvbklkOiBzdHJpbmcsIG1lc3NhZ2VzOiBDaGF0TWVzc2FnZVtdKSA9PiB7XG4gICAgICAgIHNldFNlc3Npb25zKHByZXYgPT4gcHJldi5tYXAoc2Vzc2lvbiA9PiB7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbi5pZCA9PT0gc2Vzc2lvbklkKSB7XG4gICAgICAgICAgICAgICAgLy8g0JPQtdC90LXRgNC40YDRg9C10Lwg0L3QsNC30LLQsNC90LjQtSDQuNC3INC/0LXRgNCy0L7Qs9C+INGB0L7QvtCx0YnQtdC90LjRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSBzZXNzaW9uLnRpdGxlO1xuICAgICAgICAgICAgICAgIGlmICh0aXRsZSA9PT0gJ05ldyBDaGF0JyAmJiBtZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0VXNlck1lc3NhZ2UgPSBtZXNzYWdlcy5maW5kKG0gPT4gbS5yb2xlID09PSAndXNlcicpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RVc2VyTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBmaXJzdFVzZXJNZXNzYWdlLnRleHQuc2xpY2UoMCwgNTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0VXNlck1lc3NhZ2UudGV4dC5sZW5ndGggPiA1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlICs9ICcuLi4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uc2Vzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgICAgICB9KSk7XG4gICAgfSwgW10pO1xuXG4gICAgLy8g0KPQtNCw0LvQtdC90LjQtSDRgdC10YHRgdC40LhcbiAgICBjb25zdCBkZWxldGVTZXNzaW9uID0gdXNlQ2FsbGJhY2soKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIHNldFNlc3Npb25zKHByZXYgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBwcmV2LmZpbHRlcihzID0+IHMuaWQgIT09IHNlc3Npb25JZCk7XG5cbiAgICAgICAgICAgIC8vINCV0YHQu9C4INGD0LTQsNC70Y/QtdC8INCw0LrRgtC40LLQvdGD0Y4g0YHQtdGB0YHQuNGOLCDQv9C10YDQtdC60LvRjtGH0LDQtdC80YHRjyDQvdCwINC/0LXRgNCy0YPRjiDQuNC3INC+0YHRgtCw0LLRiNC40YXRgdGPXG4gICAgICAgICAgICBpZiAoc2Vzc2lvbklkID09PSBhY3RpdmVTZXNzaW9uSWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0QWN0aXZlID0gZmlsdGVyZWRbMF0/LmlkIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlU2Vzc2lvbklkKG5leHRBY3RpdmUpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0QWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShBQ1RJVkVfU0VTU0lPTl9LRVksIG5leHRBY3RpdmUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShBQ1RJVkVfU0VTU0lPTl9LRVkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkO1xuICAgICAgICB9KTtcbiAgICB9LCBbYWN0aXZlU2Vzc2lvbklkXSk7XG5cbiAgICAvLyDQo9GB0YLQsNC90L7QstC60LAg0LDQutGC0LjQstC90L7QuSDRgdC10YHRgdC40LhcbiAgICBjb25zdCBzZXRBY3RpdmVTZXNzaW9uID0gdXNlQ2FsbGJhY2soKHNlc3Npb25JZDogc3RyaW5nIHwgbnVsbCkgPT4ge1xuICAgICAgICBzZXRBY3RpdmVTZXNzaW9uSWQoc2Vzc2lvbklkKTtcbiAgICAgICAgaWYgKHNlc3Npb25JZCkge1xuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKEFDVElWRV9TRVNTSU9OX0tFWSwgc2Vzc2lvbklkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShBQ1RJVkVfU0VTU0lPTl9LRVkpO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuXG4gICAgLy8g0J/QvtC70YPRh9C10L3QuNC1INCw0LrRgtC40LLQvdC+0Lkg0YHQtdGB0YHQuNC4XG4gICAgY29uc3QgYWN0aXZlU2Vzc2lvbiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICByZXR1cm4gc2Vzc2lvbnMuZmluZChzID0+IHMuaWQgPT09IGFjdGl2ZVNlc3Npb25JZCkgfHwgbnVsbDtcbiAgICB9LCBbc2Vzc2lvbnMsIGFjdGl2ZVNlc3Npb25JZF0pO1xuXG4gICAgLy8g0JPRgNGD0L/Qv9C40YDQvtCy0LrQsCDRgdC10YHRgdC40Lkg0L/QviDQtNCw0YLQtVxuICAgIGNvbnN0IGdyb3VwZWRTZXNzaW9ucyA9IHVzZU1lbW8oKCk6IEdyb3VwZWRTZXNzaW9ucyA9PiB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCBub3cuZ2V0RGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICAgIGNvbnN0IHllc3RlcmRheSA9IHRvZGF5IC0gMjQgKiA2MCAqIDYwICogMTAwMDtcbiAgICAgICAgY29uc3Qgd2Vla0FnbyA9IHRvZGF5IC0gNyAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG5cbiAgICAgICAgY29uc3QgZ3JvdXBzOiBHcm91cGVkU2Vzc2lvbnMgPSB7XG4gICAgICAgICAgICB0b2RheTogW10sXG4gICAgICAgICAgICB5ZXN0ZXJkYXk6IFtdLFxuICAgICAgICAgICAgdGhpc1dlZWs6IFtdLFxuICAgICAgICAgICAgb2xkZXI6IFtdLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vINCh0L7RgNGC0LjRgNGD0LXQvCDQv9C+INC00LDRgtC1INC+0LHQvdC+0LLQu9C10L3QuNGPICjQvdC+0LLRi9C1INGB0LLQtdGA0YXRgylcbiAgICAgICAgY29uc3Qgc29ydGVkID0gWy4uLnNlc3Npb25zXS5zb3J0KChhLCBiKSA9PiBiLnVwZGF0ZWRBdCAtIGEudXBkYXRlZEF0KTtcblxuICAgICAgICBzb3J0ZWQuZm9yRWFjaChzZXNzaW9uID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25EYXRlID0gc2Vzc2lvbi51cGRhdGVkQXQ7XG5cbiAgICAgICAgICAgIGlmIChzZXNzaW9uRGF0ZSA+PSB0b2RheSkge1xuICAgICAgICAgICAgICAgIGdyb3Vwcy50b2RheS5wdXNoKHNlc3Npb24pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZXNzaW9uRGF0ZSA+PSB5ZXN0ZXJkYXkpIHtcbiAgICAgICAgICAgICAgICBncm91cHMueWVzdGVyZGF5LnB1c2goc2Vzc2lvbik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlc3Npb25EYXRlID49IHdlZWtBZ28pIHtcbiAgICAgICAgICAgICAgICBncm91cHMudGhpc1dlZWsucHVzaChzZXNzaW9uKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBzLm9sZGVyLnB1c2goc2Vzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBncm91cHM7XG4gICAgfSwgW3Nlc3Npb25zXSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzZXNzaW9ucyxcbiAgICAgICAgYWN0aXZlU2Vzc2lvbixcbiAgICAgICAgYWN0aXZlU2Vzc2lvbklkLFxuICAgICAgICBpc0xvYWRpbmcsXG4gICAgICAgIGNyZWF0ZVNlc3Npb24sXG4gICAgICAgIHVwZGF0ZVNlc3Npb24sXG4gICAgICAgIGRlbGV0ZVNlc3Npb24sXG4gICAgICAgIHNldEFjdGl2ZVNlc3Npb24sXG4gICAgICAgIGdyb3VwZWRTZXNzaW9ucyxcbiAgICAgICAgZ2VuZXJhdGVUaXRsZSxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VNZW1vIiwiU0VTU0lPTlNfU1RPUkFHRV9LRVkiLCJBQ1RJVkVfU0VTU0lPTl9LRVkiLCJ1c2VDaGF0U2Vzc2lvbnMiLCJzZXNzaW9ucyIsInNldFNlc3Npb25zIiwiYWN0aXZlU2Vzc2lvbklkIiwic2V0QWN0aXZlU2Vzc2lvbklkIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwic3RvcmVkU2Vzc2lvbnMiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3RvcmVkQWN0aXZlSWQiLCJKU09OIiwicGFyc2UiLCJlcnJvciIsImNvbnNvbGUiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiY3JlYXRlU2Vzc2lvbiIsIm5ld1Nlc3Npb24iLCJpZCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJ0aXRsZSIsIm1lc3NhZ2VzIiwiY3JlYXRlZEF0IiwiRGF0ZSIsIm5vdyIsInVwZGF0ZWRBdCIsInByZXYiLCJ1cGRhdGVTZXNzaW9uIiwic2Vzc2lvbklkIiwibWFwIiwic2Vzc2lvbiIsImxlbmd0aCIsImZpcnN0VXNlck1lc3NhZ2UiLCJmaW5kIiwibSIsInJvbGUiLCJ0ZXh0Iiwic2xpY2UiLCJkZWxldGVTZXNzaW9uIiwiZmlsdGVyZWQiLCJmaWx0ZXIiLCJzIiwibmV4dEFjdGl2ZSIsInJlbW92ZUl0ZW0iLCJzZXRBY3RpdmVTZXNzaW9uIiwiYWN0aXZlU2Vzc2lvbiIsImdyb3VwZWRTZXNzaW9ucyIsInRvZGF5IiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRUaW1lIiwieWVzdGVyZGF5Iiwid2Vla0FnbyIsImdyb3VwcyIsInRoaXNXZWVrIiwib2xkZXIiLCJzb3J0ZWQiLCJzb3J0IiwiYSIsImIiLCJmb3JFYWNoIiwic2Vzc2lvbkRhdGUiLCJwdXNoIiwiZ2VuZXJhdGVUaXRsZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useChatSessions.ts\n"));

/***/ })

});